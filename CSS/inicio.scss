/* ======================
   BREAKPOINTS
====================== */
$bp-sm: 480px;
$bp-md: 768px;
$bp-lg: 1024px;
$bp-xl: 1200px;

@mixin down($bp) {
  @media (max-width: $bp) {
    @content;
  }
}


body {
  margin: 0;
  padding: 0;
  overflow-x: hidden;

  position: relative;
  isolation: isolate;
  background:
    radial-gradient(1100px 700px at 12% 12%, rgba(192, 223, 192, .62), transparent 62%),
    radial-gradient(950px 620px at 88% 18%, rgba(103, 184, 125, .42), transparent 60%),
    radial-gradient(900px 640px at 20% 88%, rgba(48, 100, 77, .22), transparent 60%),
    radial-gradient(780px 520px at 82% 82%, rgba(168, 124, 79, .22), transparent 62%),
    linear-gradient(180deg,
      #F9F5EC 0%,
      #F8F6F1 22%,
      #F1F2EE 52%,
      #F8F6F1 78%,
      #F9F5EC 100%);

  &::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;

    background-image:
      url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='640' height='640' viewBox='0 0 640 640'><g fill='none' stroke='%2330644D' stroke-opacity='0.14' stroke-width='2'><path d='M40 120c90-70 210-70 300 0s210 70 300 0' /><path d='M20 210c110-90 250-90 360 0s250 90 360 0' /><path d='M0 320c140-120 320-120 460 0s320 120 460 0' /><path d='M20 430c110-90 250-90 360 0s250 90 360 0' /><path d='M40 520c90-70 210-70 300 0s210 70 300 0' /></g><g fill='none' stroke='%23A87C4F' stroke-opacity='0.10' stroke-width='2'><path d='M70 160c70-40 160-40 230 0s160 40 230 0' /><path d='M30 360c120-70 280-70 400 0s280 70 400 0' /></g></svg>");
    background-repeat: repeat;
    background-size: 720px 720px;

    mix-blend-mode: multiply;
  }

  .modal-open {
    position: fixed;
    overflow: hidden;
    height: 100vh;
    touch-action: none;
    left: 0;
    right: 0;
    width: 100%;
  }
}

.sobre-nosotros,
.pedidos,
.franquicias,
.contacto {
  position: relative;
  border-top: 1px solid rgba(46, 90, 68, .06);
}

.encabezado {
  position: relative;
  overflow: hidden;
  padding: 0;
  background: transparent;
  min-height: clamp(280px, 50vh, 600px);
  display: grid;
  place-items: center;

  &::before {
    content: "";
    position: absolute;
    inset: -160px 0;
    pointer-events: none;
    z-index: 2;
    background:
      radial-gradient(900px 520px at 30% 35%, rgba(192, 223, 192, .28), transparent 65%),
      radial-gradient(800px 520px at 75% 65%, rgba(48, 100, 77, .10), transparent 65%);
  }

  &::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: clamp(-90px, -8vw, -55px);
    height: clamp(120px, 18vw, 180px);
    pointer-events: none;
    z-index: 3;
    background: linear-gradient(180deg,
        rgba(48, 100, 77, 0) 0%,
        rgba(248, 246, 241, .55) 55%,
        rgba(248, 246, 241, 0) 100%);
  }

  .encabezado-img {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
    object-position: center 8%;
    filter: saturate(1.02) contrast(1.02);
    z-index: 1;
  }

  .ika-logo {
    position: absolute;
    left: 50%;
    top: 45%;
    transform: translate(-50%, -50%);
    z-index: 5;
    width: clamp(150px, 45vw, 500px);
    height: auto;
    display: block;
    margin: 0;
    filter: drop-shadow(0 10px 26px rgba(0, 0, 0, .14));
  }

  @include down($bp-md) {
    min-height: clamp(240px, 48vh, 520px);

    .encabezado-img {
      object-position: center 6%;
    }

    .ika-logo {
      width: clamp(150px, 46vw, 320px);
    }
  }

  @include down($bp-sm) {
    min-height: clamp(220px, 44vh, 480px);

    .encabezado-img {
      object-position: center 2%;
    }

    .ika-logo {
      width: clamp(140px, 58vw, 300px);
    }
  }
}


.topbar {
  position: sticky;
  top: 0;
  z-index: 1000;
  backdrop-filter: blur(6px);
  background: rgba(46, 90, 68, .85);
  border-bottom: 1px solid rgba(255, 255, 255, .12);
  box-shadow: 0 6px 16px rgba(0, 0, 0, .12);
  display: flex;
  justify-content: center;
  padding: 10px 0;

  .topbar__toggle {
    display: none;
    width: 44px;
    height: 44px;
    border-radius: 999px;

    border: 1px solid rgba(255, 255, 255, .35);
    background: rgba(46, 90, 68, .55);
    backdrop-filter: blur(6px);

    cursor: pointer;
    padding: 10px;

    align-items: center;
    justify-content: center;
    gap: 6px;

    transition: background .2s ease, border-color .2s ease, transform .15s ease;

    span {
      width: 18px;
      height: 2px;
      background: #F8F6F1;
      border-radius: 999px;
      transition: transform .22s ease, opacity .18s ease;
    }

    &:hover {
      background: rgba(46, 90, 68, .75);
      transform: translateY(-1px);
    }
  }

  .topbar__menu {
    list-style: none;
    margin: 0 auto;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 22px;
    align-items: center;
    text-transform: uppercase;
    letter-spacing: .08em;
    font: 600 14px/1.2 'Lora', serif;
    max-width: 100%;
  }

  li {
    white-space: nowrap;
  }

  a {
    color: #F8F6F1;
    text-decoration: none;
    opacity: .95;
    padding: 8px 2px;
    border-bottom: 2px solid transparent;
    transition: opacity .2s ease, border-color .2s ease;

    &:hover {
      opacity: 1;
      border-color: rgba(248, 246, 241, .9);
    }

    &.active {
      border-color: #F8F6F1;
    }
  }

  .btn-outline {
    border: 1.5px solid #F8F6F1;
    border-radius: 999px;
    padding: 8px 14px;

    &:hover {
      background: #F8F6F1;
      color: #2E5A44;
    }
  }

  @include down($bp-md) {
    justify-content: space-between;
    padding: 10px 12px;

    .topbar__toggle {
      display: inline-flex;
    }

    .topbar__menu {
      position: fixed;
      left: 12px;
      right: 12px;
      top: 64px;

      display: none;
      flex-direction: column;
      align-items: stretch;
      gap: 10px;

      padding: 14px;
      border-radius: 18px;

      background: rgba(46, 90, 68, .96);
      border: 1px solid rgba(255, 255, 255, .12);
      box-shadow: 0 18px 45px rgba(0, 0, 0, .20);
      backdrop-filter: blur(10px);
    }

    li {
      white-space: normal;
    }

    a {
      display: block;
      padding: 12px 12px;
      border-radius: 14px;
      border-bottom: 0;
    }

    a:hover {
      background: rgba(255, 255, 255, .10);
      opacity: 1;
    }

    &.is-open {
      .topbar__menu {
        display: flex;
      }

      .topbar__toggle span:nth-child(1) {
        transform: translateY(8px) rotate(45deg);
      }

      .topbar__toggle span:nth-child(2) {
        opacity: 0;
      }

      .topbar__toggle span:nth-child(3) {
        transform: translateY(-8px) rotate(-45deg);
      }
    }
  }
}

:root {
  --sabores-gutter: 120px;
}

/* ======================
   PRODUCTOS 
====================== */
.productos-slider {
  background: transparent;
  background-size: cover;
  background-position: center;
  color: #2E5A44;
  padding: 30px 0 10px;
  --sabores-gutter: 90px;
  overflow-x: visible;

  .subtitulo {
    font: 700 28px 'Lora', serif;
    letter-spacing: .18em;
    text-transform: uppercase;
    position: relative;
    padding-bottom: 10px;
    margin: 35px 35px 20px;
    color: #2E5A44;
    opacity: .85;
    animation: fadeUp .6s ease both;

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(6px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  }

  .subtitulo--left {
    text-align: left;

    &::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 1.5px;
      background: linear-gradient(to right,
          transparent 0%,
          rgba(46, 90, 68, .35) 30%,
          rgba(46, 90, 68, .35) 70%,
          transparent 100%);
      opacity: .85;
    }
  }

  .subtitulo--right {
    text-align: right;
    padding-bottom: 6px;
    margin-top: 15px;

    &::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 1.5px;
      background: linear-gradient(to right,
          transparent 0%,
          rgba(46, 90, 68, .35) 30%,
          rgba(46, 90, 68, .35) 70%,
          transparent 100%);
      opacity: .85;
    }
  }

  /* =========================
     SWIPER SABORES 
   ========================= */
  .sabores-swiper {
    width: 100%;
    max-width: 1100px;
    margin: 0 auto;
    position: relative;
    overflow: visible;

    .sabores-mask {
      position: relative;
      width: 100%;
      overflow: hidden;
      padding: 10px 30px 60px;
    }

    .swiper {
      overflow: visible;
      padding: 14px 0 10px;
      box-sizing: border-box;
    }

    .swiper-wrapper {
      align-items: center;
    }

    .swiper-slide {
      display: flex;
      justify-content: center;
      align-items: center;
      padding-bottom: 10px;
    }


    .chip-category {
      background: transparent !important;
      border: 0 !important;
      box-shadow: none !important;
      padding: 0 !important;
      margin: 0 !important;

      width: auto !important;
      min-height: auto !important;

      display: inline-flex !important;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 12px;

      cursor: pointer;
      user-select: none;

      transition: transform .22s ease, filter .22s ease;

      &:hover {
        transform: translateY(-4px);
        filter: brightness(1.03);
      }

      &::before,
      &::after {
        display: none !important;
      }

      .chip__img {
        width: 210px;
        height: 210px;
        border-radius: 999px;
        object-fit: cover;

        background: #fff;
        border: 1px solid rgba(46, 90, 68, .22);

        box-shadow:
          0 14px 34px rgba(0, 0, 0, .20),
          inset 0 0 0 4px rgba(255, 255, 255, .65);
      }

      .chip__label {
        display: block;
        margin: 0;
        padding: 0;

        font: 700 20px 'Lora', serif;
        color: #2E5A44;
        letter-spacing: .06em;
        text-align: center;
        max-width: 160px;
        white-space: normal;
      }
    }


    .swiper-span-prev,
    .swiper-span-next {
      position: absolute;
      width: 42px;
      height: 30px;
      z-index: 80;
      cursor: pointer;
      border: 0;
      background: transparent no-repeat center / contain;
      transform: translateY(-50%) scale(0.9);
      display: block;
      top: 48%;
      opacity: 0.55;

      &:hover {
        opacity: 0.9;
        transform: translateY(-50%) scale(1);
      }
    }

    .swiper-span-prev {
      left: -60px;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='%232E5A44' viewBox='0 0 24 24'><path d='M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z'/></svg>");
    }

    .swiper-span-next {
      right: -60px;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='%232E5A44' viewBox='0 0 24 24'><path d='M8.59 16.59 10 18l6-6-6-6-1.41 1.41L13.17 12z'/></svg>");
    }

  }

  /* =========================
   MODAL SABORES  
  ========================= */
  .sabores-modal {
    position: fixed;
    inset: 0;
    z-index: 9999;
    width: 100%;
    display: grid;
    place-items: center;

    &__backdrop {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, .45);
      backdrop-filter: blur(4px);
    }

    &__content {
      position: relative;
      width: min(720px, calc(100% - 32px));
      margin: 0;
      background: #F8F6F1;
      border-radius: 20px;
      padding: 18px 18px 22px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, .25);
      border: 1px solid rgba(46, 90, 68, .18);

      overflow: visible;
      z-index: 2;
    }

    &__close {
      position: absolute;
      top: 10px;
      right: 14px;
      font-size: 30px;
      line-height: 1;
      border: 0;
      background: transparent;
      cursor: pointer;
      color: #2E5A44;
      opacity: .8;

      &:hover {
        opacity: 1;
      }
    }

    &__header {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 6px 4px 8px;

      h3 {
        margin: 0;
        font: 700 24px 'Playfair Display', serif;
        color: #2E5A44;
      }
    }

    &__sub {
      margin: 4px 0 0;
      font: 400 13px 'Lora', serif;
      color: rgba(46, 90, 68, .78);
    }

    &__img {
      width: 60px;
      height: 60px;
      border-radius: 999px;
      object-fit: cover;
      border: 1px solid rgba(46, 90, 68, .22);
      box-shadow: 0 10px 22px rgba(0, 0, 0, .14);
    }

    &__list {
      margin-top: 16px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 10px;

      position: relative;
      overflow: visible;
    }

    &__item {
      position: relative;
      display: flex;
      overflow: visible;
      z-index: 1;

      &:hover {
        z-index: 999;
      }
    }

    &__list .chip {
      width: 100%;
      margin-top: 0;
      min-height: 56px;
      padding: 10px 12px;
      border-radius: 16px;


      background: #fff;
      border: 1px solid rgba(46, 90, 68, .30);
      box-shadow: 0 10px 22px rgba(0, 0, 0, .08);

      display: flex;
      align-items: center;
      justify-content: center;

      position: relative;
      overflow: visible;
      cursor: default;
      z-index: 2;

      .chip__label {
        -webkit-line-clamp: 2;
        font-size: 15px;
        line-height: 1.15;
        text-align: center;
      }

      &::after {
        content: attr(data-desc);
        position: absolute;
        left: 50%;
        top: -10px;
        transform: translate(-50%, -100%);

        background: rgba(46, 90, 68, .95);
        color: #F8F6F1;
        padding: 10px 14px;
        border-radius: 12px;

        font: 400 14px 'Lora', serif;
        text-align: center;
        white-space: normal;

        max-width: 320px;
        min-width: 240px;

        opacity: 0;
        pointer-events: none;
        transition: opacity .2s ease, transform .2s ease;

        z-index: 99999;
      }

      &::before {
        content: "";
        position: absolute;
        left: 50%;
        top: -6px;
        transform: translateX(-50%);

        border: 7px solid transparent;
        border-top-color: rgba(46, 90, 68, .95);

        opacity: 0;
        transition: opacity .2s ease;

        z-index: 99999;
      }

      &:hover::after,
      &:hover::before {
        opacity: 1;
      }

      &:hover::after {
        transform: translate(-50%, calc(-100% - 6px));
      }
    }

  }

  /* =========================
   SWIPER PALETAS
  ========================= */
  .paletas-swiper {
    position: relative;
    width: min(1100px, 96vw);
    margin: 24px auto 20px;
    overflow: visible;


    .paletas-mask {
      position: relative;
      width: 100%;
      overflow: hidden;
      padding: 0 60px 70px;
    }

    .swiper {
      overflow: visible;
      padding-left: 50px;
      padding-right: 50px;
    }

    .swiper-slide {
      width: auto;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .sabor-card {
      width: 260px;
      position: relative;
      text-align: center;

      img {
        width: 100%;
        max-width: 260px;
        height: 280px;
        object-fit: contain;
      }

      &::after {
        content: attr(data-desc);
        position: absolute;
        left: 50%;
        top: 100%;
        transform: translate(-50%, 12px);

        background: rgba(46, 90, 68, .95);
        color: #F8F6F1;
        padding: 10px 10px;
        border-radius: 14px;

        font: 600 17px 'Lora', serif;
        max-width: 250px;

        opacity: 0;
        pointer-events: none;
        transition: opacity .25s ease, transform .25s ease;
        z-index: 40;

        display: inline-block;
        white-space: normal;
        min-width: 220px;
        word-break: normal;
        overflow-wrap: break-word;
      }

      &:hover::after {
        opacity: 1;
        transform: translateX(-50%) translateY(-4px);
      }

      @include down($bp-md) {
        .paletas-swiper {

          .sabor-card {
            width: 150px;

            img {
              max-width: 120px;
              height: 170px;
            }
          }
        }
      }

      @include down($bp-sm) {
        .paletas-swiper {

          .sabor-card {
            width: 140px;

            img {
              max-width: 110px;
              height: 160px;
            }
          }
        }
      }

    }

    .swiper-paletas-prev,
    .swiper-paletas-next {
      position: absolute;
      width: 42px;
      height: 30px;
      z-index: 80;
      cursor: pointer;
      border: 0;
      background: transparent no-repeat center / contain;
      transform: translateY(-50%) scale(0.9);
      display: block;
      top: 48%;
      opacity: 0.55;

      &:hover {
        opacity: 0.9;
        transform: translateY(-50%) scale(1);
      }
    }

    .swiper-paletas-prev {
      left: -60px;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='%232E5A44' viewBox='0 0 24 24'><path d='M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z'/></svg>");
    }

    .swiper-paletas-next {
      right: -60px;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='%232E5A44' viewBox='0 0 24 24'><path d='M8.59 16.59 10 18l6-6-6-6-1.41 1.41L13.17 12z'/></svg>");
    }

    .swiper-wrapper {
      transition-timing-function: linear !important;
    }
  }

  @include down($bp-md) {

    .paletas-swiper {

      .sabor-card {
        width: 200px;

        img {
          max-width: 160px;
          height: 200px;
        }
      }
    }

    .sabores-swiper {

      .chip-category {
        gap: 10px;

        .chip__img {
          width: 170px;
          height: 170px;
        }

        .chip__label {
          font-size: 17px;
          max-width: 140px;
        }
      }

      .swiper-span-prev {
        left: -40px;
      }

      .swiper-span-next {
        right: -40px;
      }
    }

    .sabores-modal {

      place-items: center;

      &__content {
        width: min(420px, 94vw);
        max-height: 65dvh;
        padding: 12px 12px 14px;
        border-radius: 18px 18px 0 0;

        overflow-y: auto;
      }

      &__header {
        gap: 8px;
        padding-bottom: 6px;

        h3 {
          font-size: 18px;
        }
      }

      &__sub {
        font-size: 12px;
      }

      &__img {
        width: 42px;
        height: 42px;
      }

      &__list {
        margin-top: 10px;
        gap: 8px;
        grid-template-columns: 1fr;
      }

      &__list .chip {
        min-height: 44px;
        padding: 8px 10px;
        border-radius: 14px;

        .chip__label {
          font-size: 14px;
          line-height: 1.1;
        }
      }

      &__close {
        font-size: 24px;
        top: 6px;
        right: 10px;
      }
    }
  }

  @include down($bp-sm) {

    .paletas-swiper {

      .sabor-card {
        width: 160px;
        ;

        img {
          max-width: 130px;
          height: 180px;
        }
      }
    }

    .sabores-swiper {

      .sabores-mask {
        padding: 10px 16px 40px;
      }

      .chip-category {
        gap: 8px;

        .chip__img {
          width: 130px;
          height: 130px;
        }

        .chip__label {
          font-size: 15px;
          max-width: 120px;
        }
      }

      .swiper-span-prev,
      .swiper-span-next {
        display: none;
      }
    }

    .sabores-modal {

      place-items: center;

      &__content {
        width: min(420px, 94vw);
        max-height: 65dvh;
        padding: 12px 12px 14px;
        border-radius: 18px 18px 0 0;

        overflow-y: auto;
      }

      &__header {
        gap: 8px;
        padding-bottom: 6px;

        h3 {
          font-size: 18px;
        }
      }

      &__sub {
        font-size: 12px;
      }

      &__img {
        width: 42px;
        height: 42px;
      }

      &__list {
        margin-top: 10px;
        gap: 8px;
        grid-template-columns: 1fr;
      }

      &__list .chip {
        min-height: 44px;
        padding: 8px 10px;
        border-radius: 14px;

        .chip__label {
          font-size: 14px;
          line-height: 1.1;
        }
      }

      &__close {
        font-size: 24px;
        top: 6px;
        right: 10px;
      }
    }
  }

  @keyframes slideUp {
    from {
      transform: translateY(20px);
      opacity: 0;
    }

    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
}

/* ==========================
   SOBRE NOSOTROS
=========================== */
.sobre-nosotros {
  background: transparent;
  border-top: 1px solid rgba(46, 90, 68, .1);
  position: relative;
  z-index: 2;
  margin-top: 0px;
  padding: 120px 0 80px;
  color: #2E5A44;

  &::before {
    content: "";
    position: absolute;
    inset: -160px 0;
    pointer-events: none;
    z-index: -1;
    background:
      radial-gradient(900px 520px at 30% 35%, rgba(192, 223, 192, .35), transparent 65%),
      radial-gradient(800px 520px at 75% 65%, rgba(48, 100, 77, .12), transparent 65%);
  }


  .sobre-container {
    width: min(1100px, 92vw);
    margin: 0 auto;
    display: flex;
    gap: 40px;
    align-items: center;
    justify-content: space-between;

    .sobre-imgs {
      flex: 1;
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;

      img {
        width: 100%;
        object-fit: cover;
        border-radius: 18px;
        box-shadow: 0 18px 40px rgba(0, 0, 0, .12);
        transition: transform .35s ease, box-shadow .35s ease;
        aspect-ratio: 2 / 2;

        &:hover {
          transform: translateY(-4px) scale(1.01);
          box-shadow: 0 28px 55px rgba(0, 0, 0, .16);
        }

        &:nth-child(1) {
          grid-column: span 2;
          aspect-ratio: 16 / 6;
        }
      }
    }

    .sobre-texto {
      flex: 1;
      text-align: left;

      h2 {
        font: 700 36px 'Playfair Display', serif;
        margin-bottom: 10px;
      }

      h3 {
        font: 700 20px 'Lora', serif;
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: .14em;
        opacity: .85;
      }

      p {
        font: 400 18px 'Lora', serif;
        margin-bottom: 14px;
        max-width: 52ch;
        line-height: 1.75;
      }
    }
  }

  @include down($bp-md) {
    padding: 80px 0 60px;

    .sobre-container {
      width: min(920px, 92vw);
      flex-direction: column; 
      align-items: center;
      gap: 18px;
    }

    .sobre-imgs {
      width: 100%;
      max-width: 520px; 
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;

      img {
        border-radius: 16px;

        &:nth-child(1) {
          grid-column: 1 / -1;
          aspect-ratio: 16 / 9; 
        }
      }
    }

    .sobre-texto {
      width: 100%;
      text-align: center;
      padding: 0 6px;

      h2 {
        font-size: 30px;
      }

      h3 {
        font-size: 14px;
        letter-spacing: .14em;
      }

      p {
        font-size: 16px;
        line-height: 1.65;
        max-width: 60ch;
        margin: 0 auto 12px;
      }
    }
  }

  @include down($bp-sm) {
    padding: 70px 0 55px;

    .sobre-imgs {
      max-width: 420px;
      gap: 8px;

      img {
        border-radius: 14px;
      }
    }

    .sobre-texto {
      h2 {
        font-size: 28px;
      }

      p {
        font-size: 15px;
      }
    }
  }
}

/* ==========================
   SUCURSALES 
=========================== */
.sucursales {
  background: transparent;
  padding: 40px 0 80px;
  color: #2E5A44;

  .sucursales-header {
    text-align: center;
    margin-bottom: 50px;
    margin-top: 90px;


    h2 {
      font: 700 36px 'Playfair Display', serif;
      font-size: 44px;
      margin-bottom: 8px;
    }

    p {
      font: 700 14px 'Lora', serif;
      letter-spacing: .18em;
      text-transform: uppercase;
      opacity: .85;
      position: relative;
      padding-left: 50px;
      padding-right: 50px;
    }
  }

  .sucursales-grid {
    width: min(1100px, 92vw);
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 18px;
  }

  .sucursal-card {
    position: relative;
    border-radius: 18px;
    overflow: hidden;
    background: #fff;
    border: 1px solid rgba(46, 90, 68, .12);
    box-shadow: 0 14px 34px rgba(0, 0, 0, .10);
    aspect-ratio: 16 / 9;

    &__media {
      display: flex;
      height: 100%;
    }

    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      transform: scale(1);
      transition: transform .35s ease, filter .35s ease;
      filter: saturate(1.02);
    }

    &:hover img {
      transform: scale(1.04);
      filter: saturate(1.06) contrast(1.02);
    }

    &__info {
      position: absolute;
      left: 16px;
      bottom: 16px;
      z-index: 2;

      display: grid;
      gap: 8px;

      max-width: min(360px, calc(100% - 32px));
    }

    &__info h3,
    &__info p {
      display: inline-block;
      width: fit-content;

      margin: 0;
      padding: 8px 10px;
      border-radius: 12px;

      background: rgba(0, 0, 0, .42);
      backdrop-filter: blur(6px);
      color: #F8F6F1;
    }

    &__info h3 {
      font: 700 18px 'Playfair Display', serif;
    }

    &__info p {
      font: 600 13px 'Lora', serif;
      opacity: .95;
    }

    &__actions {
      display: flex;
      gap: 8px;
      flex-wrap: nowrap;
    }
  }

  .btn-mini {
    display: inline-flex;
    align-items: center;
    justify-content: center;

    padding: 8px 12px;
    border-radius: 999px;

    font: 600 12px 'Lora', serif;
    letter-spacing: .08em;
    text-transform: uppercase;
    text-decoration: none;

    border: 1px solid rgba(248, 246, 241, .75);
    color: #F8F6F1;
    background: rgba(255, 255, 255, .06);

    transition: transform .15s ease, background .15s ease, border-color .15s ease;

    &:hover {
      transform: translateY(-1px);
      background: rgba(255, 255, 255, .12);
      border-color: rgba(248, 246, 241, .95);
    }

    &--wa {
      background: rgba(37, 211, 102, .72);
      border-color: rgba(37, 211, 102, .88);
    }
  }

  @include down($bp-md) {
    padding: 30px 0 70px;

    .sucursales-header {
      margin: 40px 0 26px;

      h2 {
        font-size: 34px;
      }

      p {
        padding-left: 18px;
        padding-right: 18px;
      }
    }

    .sucursales-grid {
      grid-template-columns: 1fr;
      gap: 14px;
      width: min(520px, 92vw);
    }

    .sucursal-card {
      aspect-ratio: 16 / 10;
      border-radius: 18px;

      &__info {
        left: 12px;
        bottom: 12px;
        gap: 6px;
      }

      &__actions {
        gap: 8px;
      }
    }

    .btn-mini {
      padding: 8px 12px;
      font-size: 11px;
      letter-spacing: .10em;
    }
  }

  @include down($bp-sm) {
    .sucursales-header h2 {
      font-size: 30px;
    }

    .sucursal-card {
      aspect-ratio: 16 / 11;
    }

    .btn-mini {
      padding: 9px 12px;
      font-size: 11px;
    }
  }
}

/* ==========================
   PEDIDOS
=========================== */
.pedidos {
  background: transparent;
  padding: 60px 0 100px;
  position: relative;
  z-index: 10;

  &::before {
    content: "";
    position: absolute;
    inset: -160px 0;
    pointer-events: none;
    z-index: -1;
    background:
      radial-gradient(900px 520px at 55% 25%, rgba(103, 184, 125, .38), transparent 65%),
      radial-gradient(720px 520px at 18% 78%, rgba(192, 223, 192, .22), transparent 65%);
  }

  .pedidos-header {
    text-align: center;
    margin-bottom: 50px;
    margin-top: 0px;
    color: #2E5A44;

    p {
      font: 700 14px 'Lora', serif;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      opacity: 0.8;
    }
  }

  .pedidos-grid {
    width: min(1100px, 92vw);
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 26px;
  }

  .pedido-card {
    background: #ffffff;
    border-radius: 20px;
    padding: 24px 80px;
    box-shadow: 0 10px 26px rgba(0, 0, 0, 0.08);
    display: flex;
    flex-direction: column;
    gap: 14px;
    border: 1px solid rgba(46, 90, 68, 0.08);

    &__logo {
      height: 46px;
      display: flex;
      align-items: center;

      img {
        height: 100%;
        width: auto;
        object-fit: contain;
      }
    }

    &__texto {
      h3 {
        font: 700 20px 'Lora', serif;
        margin-bottom: 4px;
      }

      p {
        font: 400 16px 'Lora', serif;
        line-height: 1.6;
        margin: 0;
      }
    }

    &__btn {
      margin-top: auto;
      align-self: flex-start;
      padding: 10px 18px;
      border-radius: 999px;
      font: 600 14px 'Lora', serif;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      text-decoration: none;
      border: 1.5px solid #2e5a44;
      color: #2e5a44;
      background: transparent;
      transition: background 0.2s ease, color 0.2s ease,
        box-shadow 0.2s ease;

      &:hover {
        background: #2e5a44;
        color: #f8f6f1;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.18);
      }
    }

    &--pedidosya {
      border-top: 3px solid #ff2e4d;
    }

    &--tucan {
      border-top: 3px solid #18b179;
    }
  }

  @include down($bp-md) {

    .pedidos-grid {
      grid-template-columns: 1fr;
      gap: 14px;
      width: min(520px, 92vw);
    }

    .pedido-card {
      padding: 18px 18px;
      border-radius: 18px;
      gap: 12px;
      align-items: center;
      text-align: center;

      &__logo {
        height: 34px;
        justify-content: center;
      }

      &__texto {
        h3 {
          font-size: 18px;
        }

        p {
          font-size: 14px;
        }
      }

      &__btn {
        align-self: center;
        width: 100%;
        max-width: 260px;
      }
    }
  }

  @include down($bp-sm) {
    .pedido-card {
      padding: 16px 14px;

      &__logo {
        height: 30px;
      }

      &__btn {
        max-width: 240px;
      }
    }
  }
}

/* ==========================
   FRANQUICIAS
=========================== */
.franquicias {
  padding: 100px 0 100px;
  background: transparent;
  color: #2E5A44;


  &::before {
    content: "";
    position: absolute;
    inset: -180px 0;
    pointer-events: none;
    z-index: -1;
    background:
      radial-gradient(950px 560px at 60% 25%, rgba(48, 100, 77, .20), transparent 70%),
      radial-gradient(760px 520px at 18% 75%, rgba(168, 124, 79, .20), transparent 65%);
  }

  .franquicias-header {
    text-align: center;
    max-width: 720px;
    margin: 0 auto 26px;

    h2 {
      font: 700 36px 'Playfair Display', serif;
      font-size: 44px;
      margin-bottom: 8px;
    }

    p {
      font: 700 14px 'Lora', serif;
      letter-spacing: .14em;
      text-transform: uppercase;
      opacity: .85;
      margin-bottom: 8px;
    }

    .franquicias-sub {
      display: block;
      font: 400 16px 'Lora', serif;
      opacity: .85;
    }
  }

  .franquicias-form {
    width: min(960px, 92vw);
    margin: 32px auto 0;
    background: #ffffff;
    border-radius: 24px;
    padding: 28px 30px 36px;
    box-shadow: 0 18px 45px rgba(0, 0, 0, .08);

    .franq-btn-enviar {
      display: block;
      margin: 40px auto 0 auto;
      text-align: center;
      border: none;
      border-radius: 999px;
      padding: 12px 32px;
      font: 600 14px 'Lora', serif;
      letter-spacing: .12em;
      text-transform: uppercase;
      background: #2E5A44;
      color: #F8F6F1;
      cursor: pointer;
      box-shadow: 0 10px 26px rgba(0, 0, 0, .18);
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;

      &:hover {
        background: #264835;
        transform: translateY(-1px);
        box-shadow: 0 14px 30px rgba(0, 0, 0, .22);
      }

      &:active {
        transform: translateY(0);
        box-shadow: 0 8px 18px rgba(0, 0, 0, .18);
      }

      &.is-loading {
        opacity: .75;
        cursor: progress;
        pointer-events: none;
        position: relative;
      }

      &.is-loading::after {
        content: " Enviando…";
        letter-spacing: .12em;
      }
    }
  }

  .franq-block {
    border: 1px solid #C0DFC0;
    border-radius: 18px;
    padding: 18px 18px 22px;
    margin-bottom: 18px;
    background: #fbfaf6;

    legend {
      font: 700 20px 'Lora', serif;
      padding: 0 10px;
      margin-left: 8px;
      margin-bottom: 15px;
      color: #2E5A44;
      text-align: center;
      font-weight: bold;
    }
  }

  .franq-grid {
    display: grid;
    gap: 20px;

    &--2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  .franq-field {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 18px;

    label {
      font: 600 14px 'Lora', serif;
      opacity: .9;
    }

    input,
    select,
    textarea {
      font: 400 15px 'Lora', serif;
      border-radius: 12px;
      border: 1px solid #67B87D;
      padding: 10px 12px;
      background: #ffffff;
      transition: border-color .18s ease, box-shadow .18s ease, background .18s ease;

      &::placeholder {
        color: rgba(46, 90, 68, .45);
      }

      &:focus {
        outline: none;
        border-color: #2E5A44;
        box-shadow: 0 0 0 2px rgba(46, 90, 68, .16);
        background: #fff;
      }

      &.is-invalid {
        border-color: rgba(196, 60, 60, .75) !important;
        box-shadow: 0 0 0 2px rgba(196, 60, 60, .14) !important;
        background: #fff;
      }

      &:disabled {
        opacity: .6;
        cursor: not-allowed;
        background: rgba(46, 90, 68, .04);
      }

      &.shake {
        animation: franq-shake .28s ease;
      }
    }

    .field-error {
      margin: 6px 0 0;
      font: 600 12px 'Lora', serif;
      color: rgba(196, 60, 60, .92);
      line-height: 1.25;
    }

    select {
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' fill='%232E5A44' viewBox='0 0 24 24'><path d='M7 10l5 5 5-5z'/></svg>");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px 16px;
      padding-right: 34px;
    }

    textarea {
      resize: vertical;
      min-height: 110px;
    }
  }

  @keyframes franq-shake {
    0% {
      transform: translateX(0);
    }

    25% {
      transform: translateX(-3px);
    }

    50% {
      transform: translateX(3px);
    }

    75% {
      transform: translateX(-2px);
    }

    100% {
      transform: translateX(0);
    }
  }

  @include down($bp-md) {
    padding: 70px 0 80px;

    .franquicias-header {
      padding: 0 14px;

      h2 {
        font-size: 34px;
      }

      p {
        font-size: 12px;
        letter-spacing: .12em;
      }

      .franquicias-sub {
        font-size: 14px;
      }
    }

    .franquicias-form {
      width: min(520px, 92vw);
      padding: 18px 14px 22px;
      border-radius: 20px;
    }

    .franq-block {
      padding: 14px 12px 16px;
      border-radius: 16px;
      margin-bottom: 14px;

      legend {
        font-size: 16px;
        padding: 0 8px;
        margin-bottom: 10px;
      }
    }

    .franq-grid {
      gap: 14px;

      &--2 {
        grid-template-columns: 1fr;
      }
    }

    .franq-field {
      gap: 6px;
      margin-bottom: 12px;

      label {
        font-size: 13px;
      }

      input,
      select,
      textarea {
        font-size: 14px;
        padding: 11px 12px;
        border-radius: 12px;
      }

      textarea {
        min-height: 120px;
      }
    }

    .franq-btn-enviar {
      width: 100%;
      max-width: 360px;
      padding: 12px 18px;
      margin-top: 18px;
    }
  }

  @include down($bp-sm) {
    .franquicias-header h2 {
      font-size: 30px;
    }

    .franquicias-form {
      width: min(440px, 92vw);
      padding: 16px 12px 18px;
      border-radius: 18px;
    }

    .franq-block legend {
      font-size: 15px;
    }
  }
}

/* ==========================
   CONTACTO
=========================== */
.contacto {
  background: transparent;
  padding: 80px 0 90px;
  color: #2E5A44;

  &::before {
    content: "";
    position: absolute;
    inset: -160px 0;
    pointer-events: none;
    z-index: -1;
    background:
      radial-gradient(920px 520px at 45% 30%, rgba(192, 223, 192, .28), transparent 70%),
      radial-gradient(820px 520px at 80% 75%, rgba(103, 184, 125, .20), transparent 70%);
  }

  .contacto-header {
    text-align: center;
    margin-bottom: 30px;

    h2 {
      font: 700 36px 'Playfair Display', serif;
      margin-bottom: 6px;
    }

    p {
      font: 400 15px 'Lora', serif;
      opacity: .85;
    }
  }

  .contacto-form {
    width: min(1000px, 95vw);
    margin: 0 auto;
    background: #ffffff;
    border-radius: 20px;
    padding: 32px 40px;
    border: 1px solid rgba(46, 90, 68, .12);
    box-shadow: 0 12px 28px rgba(0, 0, 0, .12);
    display: flex;
    flex-direction: column;
    gap: 18px;

    &__titulo {
      font: 700 22px 'Playfair Display', serif;
      margin-bottom: 4px;
    }

    &__grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 18px 20px;
    }
  }

  .contacto-field {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 6px;

    label {
      font: 600 13px 'Lora', serif;
    }

    input,
    textarea {
      border-radius: 12px;
      border: 1px solid rgba(46, 90, 68, .28);
      padding: 12px 14px;
      font: 400 14px 'Lora', serif;
      outline: none;
      background: #fff;
      transition: border-color .18s ease, box-shadow .18s ease;

      &::placeholder {
        color: rgba(46, 90, 68, .45);
      }

      &:focus {
        border-color: #2E5A44;
        box-shadow: 0 0 0 2px rgba(46, 90, 68, .14);
      }

      &.is-invalid {
        border-color: rgba(196, 60, 60, .75) !important;
        box-shadow: 0 0 0 2px rgba(196, 60, 60, .14) !important;
        background: #fff;
      }

      &.shake {
        animation: contacto-shake .28s ease;
      }
    }

    textarea {
      min-height: 120px;
      resize: vertical;
    }

    .field-error {
      margin: 6px 0 0;
      font: 600 12px 'Lora', serif;
      color: rgba(196, 60, 60, .92);
      line-height: 1.25;
    }
  }

  .contacto-field--mensaje {
    grid-column: 1 / -1;
  }

  .contacto-btn {
    align-self: flex-start;
    margin-top: 4px;
    padding: 10px 26px;
    border-radius: 999px;
    border: none;
    background: #2E5A44;
    color: #F8F6F1;
    font: 600 14px 'Lora', serif;
    letter-spacing: .09em;
    text-transform: uppercase;
    cursor: pointer;
    box-shadow: 0 10px 22px rgba(0, 0, 0, .20);
    transition: background .18s ease, transform .12s ease, box-shadow .18s ease;

    &:hover {
      background: #234535;
      transform: translateY(-1px);
      box-shadow: 0 14px 26px rgba(0, 0, 0, .24);
    }

    &.is-loading {
      opacity: .75;
      cursor: progress;
      pointer-events: none;
      color: transparent;
      position: relative;
    }

    &.is-loading::after {
      content: "Enviando…";
      color: #F8F6F1;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }
  }

  .contacto-alerta {
    margin-top: 6px;
    font: 400 13px 'Lora', serif;
    color: #2E5A44;
  }

  @keyframes contacto-shake {
    0% {
      transform: translateX(0);
    }

    25% {
      transform: translateX(-3px);
    }

    50% {
      transform: translateX(3px);
    }

    75% {
      transform: translateX(-2px);
    }

    100% {
      transform: translateX(0);
    }
  }

  @include down($bp-md) {
    padding: 60px 0 70px;

    .contacto-header {
      padding: 0 16px;

      h2 {
        font-size: 34px;
        line-height: 1.05;
      }

      p {
        font-size: 14px;
      }
    }

    .contacto-form {
      width: min(560px, 92vw);
      padding: 18px 14px 20px;
      border-radius: 18px;

      &__grid {
        grid-template-columns: 1fr;
        gap: 14px;
      }
    }

    .contacto-field {

      label {
        font-size: 13px;
      }

      input,
      textarea {
        width: 100%;
        min-height: 46px;
        padding: 12px 14px;
        font-size: 14px;
        border-radius: 14px;
      }

      textarea {
        min-height: 140px;
      }
    }

    .contacto-btn {
      width: 100%;
      justify-content: center;
      padding: 12px 18px;
      margin-top: 6px;
    }

    .contacto-form:focus-within {
      transform: translateY(-2px);
    }
  }

  @include down($bp-sm) {
    .contacto-header h2 {
      font-size: 30px;
    }

    .contacto-form {
      padding: 16px 12px 18px;
    }
  }

}

/* ==========================
   FOOTER
========================== */
.footer {
  background: #30644D;
  text-align: center;
  padding: 44px 0 28px;
  position: relative;

  .footer-inner {
    width: min(1100px, 92vw);
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: 26px;
  }

  .footer-left {
    justify-self: start;
  }

  .footer-center {
    justify-self: center;
    text-align: center;
  }

  .footer-right {
    justify-self: end;
    text-align: right;
  }


  .footer-logo-img {
    width: 200px;
    height: auto;
    display: block;
    filter: drop-shadow(0 6px 16px rgba(0, 0, 0, .14));
  }

  .footer-social-text {
    color: #F9F5EC;
    font-size: 14px;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    margin-top: 8px;
    opacity: .9;
  }

  .footer-instagram {
    display: inline-flex;
    align-items: center;
    gap: 10px;

    color: #C0DFC0;
    text-decoration: none;
    font-size: 15px;
    font-weight: 500;
    transition: all 0.3s ease;

    i {
      font-size: 22px;
      line-height: 1;
    }

    &:hover {
      color: #ffffff;
      transform: translateY(-2px);
    }
  }

  .footer-copy {
    color: rgba(249, 245, 236, 0.85);
    font-size: 13px;
    margin: 0;
    line-height: 1.35;
  }

  @include down($bp-md) {
    padding: 36px 0 26px;

    .footer-inner {
      grid-template-columns: 1fr;
      gap: 18px;
      text-align: center;
    }

    .footer-left,
    .footer-center,
    .footer-right {
      justify-self: center;
      text-align: center;
    }

    .footer-logo-img {
      width: 160px;
      margin: 0 auto;
    }

    .footer-social-text {
      margin-top: 4px;
      font-size: 13px;
    }

    .footer-instagram {
      justify-content: center;
      font-size: 14px;
    }

    .footer-copy {
      font-size: 12px;
      opacity: .85;
      max-width: 30ch;
      margin: 0 auto;
    }
  }

  @include down($bp-sm) {
    padding: 30px 0 22px;

    .footer-logo-img {
      width: 140px;
    }

    .footer-inner {
      gap: 14px;
    }
  }
}

#pedidos,
#productos {

  h2 {
    font: 700 45px 'Playfair Display', serif;
    letter-spacing: .02em;
    margin: 10px 35px 18px;
    text-align: center;
    position: relative;
    padding-bottom: 18px;


    &::after {
      content: "";
      position: absolute;
      left: 50%;
      bottom: 6px;
      transform: translateX(-50%);
      width: 120px;
      height: 2px;
      background: rgba(46, 90, 68, .55);
    }

    &::before {
      content: "";
      position: absolute;
      left: 50%;
      bottom: 0;
      transform: translateX(-50%);
      width: 70px;
      height: 1px;
      background: rgba(46, 90, 68, .35);
    }
  }
}

.btn-top {
  position: fixed;
  right: 22px;
  bottom: 22px;
  width: 48px;
  height: 48px;
  border-radius: 999px;
  border: 3px solid #2E5A44;
  background: rgba(248, 246, 241, .92);
  color: #2E5A44;
  font: 700 18px 'Lora', serif;
  cursor: pointer;
  display: grid;
  place-items: center;

  opacity: 0;
  transform: translateY(8px);
  pointer-events: none;

  transition: opacity .25s ease, transform .25s ease, box-shadow .25s ease;
  box-shadow: 0 10px 25px rgba(0, 0, 0, .08);
  z-index: 9999;

  &:hover {
    opacity: 1;
    transform: translateY(0);
    box-shadow: 0 14px 30px rgba(0, 0, 0, .12);
  }

  &.is-visible {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  @include down($bp-md) {
    right: 14px;
    bottom: 14px;
    width: 42px;
    height: 42px;
  }
}